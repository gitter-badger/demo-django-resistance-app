{% extends 'resistanceapp/base.html' %}

{% block title %}Resistance Dashboard{% endblock %}

{% block content %}

<div class="container">
  <div class="row">
    <div class="col-md-8">

      <h1 class="display-4">The resistances' soldiers</h1>
      <p class="lead text-muted">A list of brave and powerful soldiers of the resistance.</p>

      <a href="{% url 'soldier-new' %}" class="btn btn-success btn-sm">Add a brave soldier</a>

      <hr/>

      <table class="table table-bordered mt-5">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Type</th>
            <th scope="col">Age</th>
            <th scope="col">Strength</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>

        {% for soldier in soldier_list %}

        <tr>
          <td>
            {{ soldier.pk }}
          </td>
          <th scope="row">
            {{ soldier.name }}
          </th>
          <td>
            <span class="badge badge-primary">{{ soldier.category.name }}</span>
          </td>
          <td>
            {{ soldier.age }}
          </td>
          <td>
            {{ soldier.strength }}
          </td>
          <td>
            <a href="{% url 'soldier-detail' soldier.id %}" class="btn btn-primary btn-sm">DÃ©tails</a>
            <a href="{% url 'soldier-update' soldier.id %}" class="btn btn-success btn-sm">Update</a>
            <a href="{% url 'soldier-delete' soldier.id %}" class="btn btn-warning btn-sm">Delete</a>

            {% if soldier.alive %}
            <form method="post" action="{% url 'soldier-die' soldier.pk %}">
              {% csrf_token %}
              <input type="hidden" name="soldier_id" value="{{ soldier.id }}">
              <button type="submit" class="btn btn-danger btn-sm">Dead :(</button>
            </form>
            {% endif %}

          </td>
        </tr>

        {% endfor %}
      </table>

    </div>
  </div>
</div>


{% endblock %}
